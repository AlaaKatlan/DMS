<div class="settings-card system-card">
  <div class="card-header">
    <div class="icon-box warning">
      <lucide-angular name="settings" [size]="24"></lucide-angular>
    </div>
    <div class="titles">
      <h2>إعدادات النظام</h2>
      <p>الإعدادات العامة للتطبيق والفواتير</p>
    </div>
  </div>

  <div class="form-grid">

    <div class="form-group full-width">
      <label>اسم الشركة (يظهر في الفواتير)</label>
      <div class="input-wrapper">
        <lucide-angular name="building" [size]="18" class="input-icon"></lucide-angular>
        <input type="text" [(ngModel)]="config.companyName" placeholder="اسم الشركة">
      </div>
    </div>

    <div class="form-group">
      <label>العملة الافتراضية</label>
      <div class="input-wrapper">
        <lucide-angular name="dollar-sign" [size]="18" class="input-icon"></lucide-angular>
        <select [(ngModel)]="config.currency">
          @for (curr of currencies; track curr) {
            <option [value]="curr">{{ curr }}</option>
          }
        </select>
      </div>
    </div>

    <div class="form-group">
      <label>نسبة الضريبة (%)</label>
      <div class="input-wrapper">
        <lucide-angular name="percent" [size]="18" class="input-icon"></lucide-angular>
        <input type="number" [(ngModel)]="config.taxRate" min="0" max="100">
      </div>
    </div>

  </div>

  <div class="actions">
    <button class="btn-save" (click)="saveSettings()" [disabled]="saving">
      @if (saving) {
        <span>جاري الحفظ...</span>
      } @else {
        <lucide-angular name="save" [size]="18"></lucide-angular>
        حفظ الإعدادات
      }
    </button>
  </div>
</div>
